<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <script>
            
            function computerPlay(){
                const randomNumber = Math.floor(Math.random()*3) + 1;
                switch(randomNumber){
                    case 1:
                        return "rock";
                        break;
                    case 2:
                        return "paper";
                        break;
                    case 3:
                        return "scissors";
                        break;
                }
            }
            function playerSelection(){
                return prompt("Please enter your guess").toLowerCase()
            }
         

            function playRound(playerSelection, computerPlay){

                const result = {text: "", win: null}

               if(playerSelection == 'rock'){
                   switch(computerPlay){
                        case "rock":
                            result.text = "It's a match"
                            break;
                        case "paper":
                            result.text = "You Lose! Paper beats rock"
                            result.win = 0;
                            break;
                        case "scissors":
                            result.text =  "You Win! Rock beats scissors"
                            result.win = 1;
                            break;
                   }
               }
               else if(playerSelection == 'paper'){
                switch(computerPlay){
                        case "rock":
                            result.text =  "You Win! Rock beats scissors"
                            result.win = 1;
                            break;
                        case "paper":
                            result.text = "It's a match"
                            break;
                        case "scissors":
                            result.text = "You Lose! Paper beats rock"
                            result.win = 0;
                            break;
                   }
               }
               else if(playerSelection == 'scissors'){
                switch(computerPlay){
                        case "rock":
                            result.text = "You Lose! Paper beats rock"
                            result.win = 0;
                            break;
                        case "paper":
                            result.text =  "You Win! Rock beats scissors"
                            result.win = 1;
                            break;
                        case "scissors":
                            result.text = "It's a match"
                            break;
                   }
               }
              else{
                  result.text = "Invalid input"
              }
              return result;
            }
          
            
            function game(playRound){
                let playerCount = 0;
                let computerCount = 0;
                for(let i = 0; i < 5; i++){
                    let result = playRound(playerSelection(), computerPlay())
                    //let winOrLose = result.slice(0,8)
                    console.log(result.text)
                    switch(result.win){
                        case 1:
                            playerCount += 1;
                            break;
                        case 0:
                            computerCount +=1
                            break;
                    }                   
                }
                if(playerCount > computerCount){
                    return console.log(`Final count:\n- You: ${playerCount}\n- Computer: ${computerCount}\nYOU WON!`)
                }
                else if(playerCount < computerCount){
                    return console.log(`Final count:\n- You: ${playerCount}\n- Computer: ${computerCount}\nYOU LOSE!`)
                }
                else{
                    return console.log(`Final count:\n- You: ${playerCount}\n- Computer: ${computerCount}\nIT'S A MATCH!`)
                }
            }
            game(playRound);
        </script>
    </body>
</html>